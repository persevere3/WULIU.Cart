<template>
  <!-- icon -->
  <div class="cartIcon" :class="{shrink:isShrink}" @click="showPage = 'cart'">
    <i class="fa fa-shopping-cart fa-2x" aria-hidden="true"></i>
    <div class="num">
      {{cartLength}}
    </div>
  </div>

  <!-- 動畫 -->
  <div class="flyImg" :style="`top: ${flyImgTop}px; left: ${flyImgLeft}px`" v-if="flyItem">
    <img :src="flyItem.imgArr[0]" alt="">
  </div>
</template>

<script setup>
  // store ==================================================
  import { storeToRefs } from 'pinia'
  import { useCartCommon }  from '@/stores/cart/'
  import { useCart }  from '@/stores/cart/cart'
  import { useHandlerChangeQty }  from '@/stores/cart/handlerChangeQty'

  let { showPage } = storeToRefs(useCartCommon())
  let { cartLength } = storeToRefs(useCart())
  let { flyItem, flyImgTop, flyImgLeft, isShrink} = storeToRefs(useHandlerChangeQty())
</script>